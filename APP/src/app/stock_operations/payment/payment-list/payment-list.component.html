

<div  *ngIf="(command&&command.command_payments&&command.command_payments.data.length > 0)||(sale&&sale.sale_payments&&sale.sale_payments.data.length > 0)"  class="example-container mat-elevation-z8">
  <mat-table class=""  [dataSource]="dataSource" matSort >

    <ng-container matColumnDef="_id">
      <mat-header-cell *matHeaderCellDef mat-sort-header >Id</mat-header-cell>
      <mat-cell *matCellDef="let item" class="mobile-hide">
         <span class="mobile-label">Id : </span>
{{item._id}}
      </mat-cell>
    </ng-container>





  <ng-container matColumnDef="amount">
    <mat-header-cell *matHeaderCellDef mat-sort-header >Montant</mat-header-cell>
    <mat-cell *matCellDef="let item" class="mobile-hide">
      <span class="mobile-label">Montant: </span>
      {{item.amount|currency:"FCFA":"symbol":'1.0-0':'fr'}}
    </mat-cell>
  </ng-container>




  <ng-container matColumnDef="date">
      <mat-header-cell *matHeaderCellDef mat-sort-header >Date</mat-header-cell>
      <mat-cell *matCellDef="let item" class="mobile-hide">
         <span class="mobile-label">Date : </span>
{{item.date}}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="manager">
      <mat-header-cell *matHeaderCellDef mat-sort-header >Utilisateur</mat-header-cell>
      <mat-cell *matCellDef="let item" class="mobile-hide">
         <span class="mobile-label">Utilisateur : </span>
{{item.manager.name}}
      </mat-cell>
    </ng-container>


    <ng-container matColumnDef="status">
      <mat-header-cell *matHeaderCellDef mat-sort-header >Etat</mat-header-cell>
      <mat-cell *matCellDef="let item" class="mobile-hide">
         <span class="mobile-label">Etat : </span>
{{item.status}}
      </mat-cell>
    </ng-container>

<ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef></mat-header-cell>
    <mat-cell class=""
              *matCellDef="let item">
<div fxLayout="row" fxLayout.md="column" fxLayoutAlign="center">
      <a [routerLink]="['../payments', item._id ]" class="btn btn-secondary">Détails</a>&nbsp;
      <button (click)="delete(item)" class="btn btn-danger">Supprimer</button>
      </div>
</mat-cell>
  </ng-container>
<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
<mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
</mat-table>
  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>



</div>
  <mat-card fxLayout="row" class="base-color" fxLayoutAlign="space-between" *ngIf="(command&&command.command_units_datasource.data.length>0)||(sale&&sale.sale_units_datasource.data.length>0)">
    <mat-form-field fxFlex="25">
      <mat-label>
       Total des versements
      </mat-label>
      <input *ngIf="command" class="bold" matInput readonly [value]="command.amount_payment|currency:'FCFA':'symbol':'1.0-0':'fr'">

      <input class="bold" *ngIf="sale" matInput readonly [value]="sale.amount_payment|currency:'FCFA':'symbol':'1.0-0':'fr'">
    </mat-form-field>


    <mat-form-field fxFlex="25">
      <mat-label>
        Reste à payer
      </mat-label>
      <input matInput readonly *ngIf="command" [value]="-command.amount_payment+command.amount|currency:'FCFA':'symbol':'1.0-0':'fr'">
      <input matInput readonly *ngIf="sale" [value]="-sale.amount_payment+sale.amount|currency:'FCFA':'symbol':'1.0-0':'fr'">
    </mat-form-field>

  </mat-card>




